import{j as B,c as v,a2 as X,q as $,s as J,at as Z,_ as P,n as G,o as s,d as c,f as r,g as N,F as V,D as k,Q as w,M as T,au as A,O as D,ac as M,ad as I,ab as q,aj as ee,r as g,P as E,w as y,an as Q,ap as te,ak as ae,ao as ne,Y as le,al as oe,Z as se,as as ie,u as re,z as K,av as ce,aw as de,a5 as ue,e as u,J as me,ax as _e}from"../../../../chunk-dfeee05c.js";import{u as pe}from"../../../../chunk-a1e4714c.js";import{M as ye}from"../../../../chunk-e4e68e40.js";import{l as ht}from"../../../../chunk-e4e68e40.js";import{D as fe}from"../../../../chunk-d133ee8e.js";import"../../../../chunk-86f9f37b.js";const H={name:"SimpleTable",props:{fields:{type:Array,required:!0,validator:e=>e.every(o=>!!o.key)},items:{type:Array,default:()=>[]},selectable:{type:Boolean,default:!1},fixedLayout:{type:Boolean,default:!1},title:{type:String,default:void 0},subtitle:{type:String,default:void 0},hideHeader:{type:Boolean,default:!1},virtualScroll:{type:Boolean,default:!1},rowHeight:{type:Number,default:48},stickyHeader:{type:Boolean,default:!1},itemKey:{type:[String,Array]},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:o}){const t=B(null),n=B(null),m=B([0,0]),h=v(()=>e.fixedLayout||!e.fixedLayout&&e.fields.every(d=>d.width===void 0)),l=v(()=>!e.hideHeader),p=v(()=>m.value[0]*e.rowHeight),_=v(()=>e.rowHeight*(e.items.length-m.value[1])),U=v(()=>{const[d,f]=m.value;return e.virtualScroll?e.items.slice(d,f):e.items}),C=(d,f)=>typeof f.formatter=="function"?f.formatter(d,f):d[f.key],S=d=>{e.selectable&&o("update:modelValue",d)},F=d=>Array.isArray(e.itemKey)?e.itemKey.map(f=>d[f]).join("_"):d[e.itemKey],b=()=>{const d=t.value.scrollTop,f=t.value.offsetHeight,a=e.rowHeight,L=e.items.length,R=Math.max(Math.floor(d/a)-1,0),O=Math.min(Math.ceil((d+f)/a)+1,L);m.value[0]=R,m.value[1]=O},x=()=>{G(()=>b())},i=()=>{b()};return X(()=>{e.virtualScroll&&(i(),t.value.addEventListener("resize",x),t.value.addEventListener("scroll",i),$(()=>e.items,b))}),J(()=>{t.value.removeEventListener("resize",x),t.value.removeEventListener("scroll",i)}),{tableWrapper:t,table:n,shouldRenderColgroup:h,showHeader:l,computedItems:U,virtualRange:m,virtualTopPadding:p,virtualBottomPadding:_,getCellValue:C,selectRow:S,getRowKey:F}}},z=()=>{Z(e=>({"4129f6c8":e.rowHeight+"px"}))},W=H.setup;H.setup=W?(e,o)=>(z(),W(e,o)):z;const he=H,ge={key:0,class:"simple-table__top"},ve={class:"simple-table__heading"},be={class:"simple-table__title"},ke={key:0,class:"simple-table__subtitle"},we={key:0,class:"simple-table__header-actions"},Ce={ref:"tableWrapper",class:"simple-table__middle"},Se={ref:"table",class:"simple-table__table"},Ue={key:0},xe={key:0},Ve={key:1},Ne=["tabindex","onClick","onKeydown"],Fe={key:2};function Te(e,o,t,n,m,h){return s(),c("div",{class:D(["simple-table",{"simple-table--selectable":t.selectable,"simple-table--fixed-layout":t.fixedLayout,"simple-table--sticky-header":t.stickyHeader,"is-selected":t.selectable&&t.modelValue}])},[t.title||t.subtitle||e.$slots.header||e.$slots["header-actions"]?(s(),c("div",ge,[r("div",ve,[N(e.$slots,"heading",{},()=>[t.title?(s(),c(V,{key:0},[r("h6",be,k(t.title),1),t.subtitle?(s(),c("p",ke,k(t.subtitle),1)):w("",!0)],64)):w("",!0)],!0)]),e.$slots["header-actions"]?(s(),c("div",we,[N(e.$slots,"header-actions",{},void 0,!0)])):w("",!0)])):w("",!0),r("div",Ce,[r("table",Se,[n.shouldRenderColgroup?(s(),c("colgroup",Ue,[(s(!0),c(V,null,T(t.fields,l=>(s(),c("col",{key:l.key,style:A({width:l.width})},null,4))),128))])):w("",!0),r("thead",null,[n.showHeader?(s(),c("tr",xe,[(s(!0),c(V,null,T(t.fields,l=>(s(),c("th",{key:l.key,class:D(l.thClass),style:A({width:l.width})},[N(e.$slots,`head(${l.key})`,M(I({data:l})),()=>[r("span",null,k(l.label),1)],!0)],6))),128))])):w("",!0)]),t.virtualScroll?(s(),c("tbody",Ve,[r("tr",{style:A({height:`${n.virtualTopPadding}px`})},null,4)])):w("",!0),r("tbody",null,[(s(!0),c(V,null,T(n.computedItems,(l,p)=>(s(),c("tr",{key:n.getRowKey(l)??p,tabindex:t.selectable?0:void 0,class:D({"is-active":t.modelValue===l}),onClick:_=>n.selectRow(l),onKeydown:[q(_=>n.selectRow(l),["enter"]),q(_=>n.selectRow(l),["space"])]},[(s(!0),c(V,null,T(t.fields,_=>(s(),c("td",{key:_.key,class:D(_.class)},[N(e.$slots,`cell(${_.key})`,M(I({data:l,index:p,getCellValue:n.getCellValue})),()=>[r("span",null,k(n.getCellValue(l,_)),1)],!0)],2))),128))],42,Ne))),128))]),t.virtualScroll?(s(),c("tbody",Fe,[r("tr",{style:A({height:`${n.virtualBottomPadding}px`})},null,4)])):w("",!0)],512)],512)],2)}const Pe=P(he,[["render",Te],["__scopeId","data-v-5e65a6ac"]]);const Re={name:"ResourceFilter",components:{UiSelect:ee},emits:["update:modelValue"],props:{id:{type:String,required:!0},type:{type:String,default:"select",validator:e=>["select","calendar"].includes(e)},placeholder:{type:String,required:!0},modelValue:{default:void 0}}};function Ae(e,o,t,n,m,h){const l=g("UiSelect");return s(),E(l,{id:t.id,"model-value":t.modelValue,class:"resource-filter",placeholder:t.placeholder,offset:[0,0],clearable:"","onUpdate:modelValue":o[0]||(o[0]=p=>e.$emit("update:modelValue",p))},{active:y(p=>[N(e.$slots,"active",M(I(p??{})),void 0,!0)]),default:y(p=>[N(e.$slots,"default",M(I(p??{})),void 0,!0)]),_:3},8,["id","model-value","placeholder"])}const De=P(Re,[["render",Ae],["__scopeId","data-v-34de9a61"]]),Be={USD:"$"},j="{amount} {currency}",Me={USD:"{currency}{amount}"},Ie=4,Ee={BTC:5},Y=(e,o,t=!0,n=!1,m=!1)=>{const h=Ee[o]??Ie;try{e=new fe(e).toFixed(h)}catch{return"NaN"}let l=m?"~":"";if(t){let p=o,_=j;n||(p=Be[o]??o,_=Me[o]??j),l+=_.replace("{amount}",e).replace("{currency}",p)}else l+=e;return l};const Le={name:"AppMoney",props:{amount:{type:Number,required:!0},converted:{type:Number,default:void 0},currency:{type:String,required:!0},hideCurrency:{type:Boolean,default:!1},defaultFormatter:{type:Boolean,default:!1},approximately:{type:Boolean,default:!1}},setup(e){const o=v(()=>Y(e.amount,e.currency,!e.hideCurrency,e.defaultFormatter,e.approximately)),t=v(()=>Y(e.converted,"USD",!0,!1,e.approximately));return{formattedTop:o,formattedBottom:t}}},$e={class:"app-money"},He={class:"app-money__amount"},Oe={key:0,class:"app-money__converted"};function qe(e,o,t,n,m,h){return s(),c("div",$e,[r("span",He,k(n.formattedTop),1),t.converted!==void 0?(s(),c("span",Oe,k(n.formattedBottom),1)):w("",!0)])}const Ke=P(Le,[["render",qe],["__scopeId","data-v-98e15deb"]]);const ze={name:"AssetName",components:{UiCoin:Q},props:{code:{type:String,default:void 0},name:{type:String,required:!0},fallbackImg:{type:String}}},We={class:"asset-name"};function je(e,o,t,n,m,h){const l=g("UiCoin");return s(),c("div",We,[t.code?(s(),E(l,{key:0,name:t.code,circle:"","fallback-img":t.fallbackImg},null,8,["name","fallback-img"])):w("",!0),r("span",null,k(t.name),1)])}const Ye=P(ze,[["render",je],["__scopeId","data-v-fe157157"]]);const _t="pricing-page",Qe={name:"PricingPage",components:{AssetName:Ye,AppMoney:Ke,ResourceFilter:De,UiInput:te,UiSelectOption:ae,SimpleTable:Pe,UiPagination:ne,UiAccordion:le,UiProperty:oe,UiCoin:Q,AccordionItem:se,ManagePayments:ye},props:{assetList:{type:Array,required:!0},networks:{type:Array,required:!0},coinApiInfo:{type:Object,required:!0}},setup(e){pe();const o=ie("(min-width: 1280px)"),{t}=re(),n=B([{key:"asset",label:t("asset")},{key:"confirmations",label:t("confirmations"),thClass:"text-align-center",class:"text-align-center",width:"12%",formatter:i=>x(i)},{key:"minDeposit",label:t("min_deposit"),width:"14%"},{key:"minWithdraw",label:t("min_withdraw"),width:"14%"},{key:"serviceFeeDeposit",label:t("service_fee_deposit"),class:"service-fee-deposit",width:"14%",formatter:()=>"0.5%"},{key:"serviceFeeWithdraw",label:t("service_fee_withdraw"),width:"14%",formatter:()=>t("from",["0%"]).toLowerCase()},{key:"netFeeWithdraw",label:t("net_fee_withdraw"),width:"16%",formatter:i=>`${i.netFeeButch} - ${i.netFeeOne}`}]),m=K({searchTerm:"",network:null}),h=K({perPage:10,page:1}),{result:l,search:p}=ce(de(e,"assetList"),{keys:["code"]}),_=v(()=>o.value||!1),U=v(()=>{let i=l.value;return m.network&&(i=l.value.filter(d=>d.bchCode===m.network)),i}),C=v(()=>_.value?h.perPage:8),S=v(()=>_.value?[10,25,50]:[8]),F=v(()=>{var i;return((i=U.value)==null?void 0:i.slice((h.page-1)*C.value,h.page*C.value))??[]}),b=v(()=>e.networks.find(i=>i.bchCode===m.network)),x=i=>{var d,f;return((f=(d=e.coinApiInfo)==null?void 0:d.confirmations)==null?void 0:f[i.bchCode])??0};return $(()=>m.searchTerm,i=>{p(i)}),$(U,()=>{h.page=1}),{isDesktop:o,...ue(m),pagination:h,perPage:C,limiterValues:S,fields:n,activeNetwork:b,renderTable:_,itemsTotal:v(()=>{var i;return((i=U.value)==null?void 0:i.length)??0}),items:F,getConfirmationsCount:x}}},Xe={class:"container"},Je=r("h1",{class:"pricing-page__title"},"Базовый тариф",-1),Ze={class:"pricing-page__filters"},Ge=r("p",null,"0.5%",-1),et={class:"text-color-gray"},tt={key:1,class:"pricing-page__list-wrapper"},at={class:"pricing-page__item-fee"},nt={class:"pricing-page__item-content"},lt={class:"text-align-right"},ot=r("p",null,"0.5%",-1),st={class:"text-color-gray"};function it(e,o,t,n,m,h){const l=g("UiInput"),p=g("UiCoin"),_=g("UiSelectOption"),U=g("ResourceFilter"),C=g("AssetName"),S=g("AppMoney"),F=g("SimpleTable"),b=g("UiProperty"),x=g("AccordionItem"),i=g("UiAccordion"),d=g("UiPagination"),f=g("ManagePayments");return s(),c(V,null,[r("div",Xe,[Je,r("div",Ze,[u(l,{id:"search_term",modelValue:e.searchTerm,"onUpdate:modelValue":o[0]||(o[0]=a=>e.searchTerm=a),class:"pricing-page__search",type:"secondary","native-type":"search",placeholder:e.$t("search_asset"),clearable:""},null,8,["modelValue","placeholder"]),u(U,{id:"network",modelValue:e.network,"onUpdate:modelValue":o[1]||(o[1]=a=>e.network=a),class:"pricing-page__network",placeholder:e.$t("network")},{active:y(()=>[u(_,{label:n.activeNetwork.bchFullName,value:n.activeNetwork.bchCode,preview:""},{default:y(()=>[u(p,{name:n.activeNetwork.bchCode,circle:""},null,8,["name"]),r("span",null,k(n.activeNetwork.bchFullName),1)]),_:1},8,["label","value"])]),default:y(()=>[(s(!0),c(V,null,T(t.networks,a=>(s(),E(_,{key:a.bchCode,label:a.bchFullName,value:a.bchCode},{default:y(()=>[u(p,{name:a.bchCode,circle:""},null,8,["name"]),r("span",null,k(a.bchFullName),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),n.renderTable?(s(),E(F,{key:0,class:"pricing-page__table",fields:n.fields,items:n.items,"sticky-header":"","item-key":["code","address"],"fixed-layout":""},{"cell(asset)":y(({data:a})=>[u(C,{code:a.symbol,name:a.code,"fallback-img":a.imgUrl},null,8,["code","name","fallback-img"])]),"cell(minDeposit)":y(({data:a})=>[u(S,{currency:a.code,amount:a.minDeposit,converted:a.price*a.minDeposit,"hide-currency":""},null,8,["currency","amount","converted"])]),"cell(minWithdraw)":y(({data:a})=>[u(S,{currency:a.code,amount:a.minDeposit,converted:a.price*a.minDeposit,"hide-currency":""},null,8,["currency","amount","converted"])]),"cell(serviceFeeDeposit)":y(({data:a})=>[Ge,r("p",et,k(e.$t("at_least",[a.netFeeOne])),1)]),_:1},8,["fields","items"])):(s(),c("div",tt,[u(i,{class:"pricing-page__list",items:n.items,"reset-on-change":""},{default:y(({item:a,onExpand:L,isActive:R})=>[u(x,{expanded:R(a),class:"pricing-page__item",onExpand:O=>L(a)},{title:y(()=>[u(C,{code:a.symbol,name:a.code,"fallback-img":a.imgUrl},null,8,["code","name","fallback-img"]),me(r("span",at," ≥ 0,5% ",512),[[_e,!R(a)]])]),default:y(()=>[r("div",nt,[u(b,{type:"secondary",title:"Confirmations",text:n.getConfirmationsCount(a)},null,8,["text"]),u(b,{type:"secondary",title:"Min. deposit"},{default:y(()=>[u(S,{currency:a.code,amount:a.minDeposit,converted:a.price*a.minDeposit,"hide-currency":""},null,8,["currency","amount","converted"])]),_:2},1024),u(b,{type:"secondary",title:"Min. withdraw"},{default:y(()=>[u(S,{currency:a.code,amount:a.minDeposit,converted:a.price*a.minDeposit,"hide-currency":""},null,8,["currency","amount","converted"])]),_:2},1024),u(b,{type:"secondary",title:"Service fee deposit"},{default:y(()=>[r("div",lt,[ot,r("p",st,k(e.$t("at_least",[a.netFeeOne])),1)])]),_:2},1024),u(b,{type:"secondary",title:"Service fee withdraw",text:e.$t("from",["0%"]).toLowerCase()},null,8,["text"]),u(b,{type:"secondary",title:"Net fee withdraw",text:`${a.netFeeButch} - ${a.netFeeOne}`},null,8,["text"])])]),_:2},1032,["expanded","onExpand"])]),_:1},8,["items"])])),u(d,{modelValue:n.pagination.page,"onUpdate:modelValue":o[2]||(o[2]=a=>n.pagination.page=a),"per-page":n.perPage,class:"pricing-page__pagination","items-total":n.itemsTotal,"hide-limiter":!n.renderTable,"limiter-values":n.limiterValues,"onUpdate:perPage":o[3]||(o[3]=a=>n.pagination.perPage=a)},null,8,["modelValue","per-page","items-total","hide-limiter","limiter-values"])]),u(f,{class:"pricing-page__manage-payments"})],64)}const pt=P(Qe,[["render",it]]);export{ht as Layout,_t as bodyClass,pt as default};
